# Урок 0. Настройка среды

## Цель

Подготовить рабочее окружение для написания автотестов с Kaspresso.

---                                                                                          
1. Установим среду разработки — Android Studio
2. Скачаем и настроим проект
3. Запустим первый тест

---  

### Android Studio

Android Studio - основной инструмент для разработки приложений под Android, который имеет множество встроенных фич, упрощающих написание тестов. Если у вас еще не установлена Android Studio, то ее можно скачать с [официального сайта.](https://developer.android.com/studio?hl=ru)

### Проект

Далее, нам нужен код приложения, которое мы будем тестировать. Для этого качаем [тестовый проект.](https://github.com/monprot/learn-kaspresso)

Сделать это можно так: открываем репозиторий Kaspresso на Github, далее меню Code - Local - Https - копировать путь:


Скрин гитхаба

После этого открываем Android Studio, жмем Get from VSC (или File > New > Project from Version Control, если у вас уже открыт какой то проект):

Скрин "Get from VCS"

Скрин "Get from VCS 2"

После клонирования проекта у нас должен открыться README файл.

### Эмулятор

Тестировать мы будем на эмуляторе, который для начала нужно создать. Для этого идем в device manager и жмём Create device:

Скрины девайс менеджера

У эмуляторов много разных настроек (версия Android, разрешение экрана, объём памяти и тд), но для первого автотеста нам все это не очень важно, поэтому можно создать абсолютно любой, не меняя никаких настроек, то есть просто прокликать next - next - finish. Когда эмулятор будет создан, он будет отображаться в списке девайсов, как у меня на скриншоте выше.

Далее запускаем приложение. Для этого выбираем среди конфигураций приложения app, среди выпадающего списка доступных устройств находим созданный нами эмулятор. После выбора нажимаем на кнопку Run:

Скрин

После того, как проект успешно соберется, у нас должно появиться окошко с эмулятором и запущенным тестовым приложением, которое выглядит примерно так (в зависимости от созданного эмулятора):


Скрин эмулятора с запущенным приложением

---

## Что делает приложение

**TeaLog** — дневник чайных заварок. Написано на Jetpack Compose. Пользователь:

1. Выбирает аватар → вводит имя → попадает в ленту
2. В ленте видит записи всех пользователей
3. Может создать новую запись (выбрать чай, указать параметры)
4. Может перейти в профиль и увидеть свои записи

---



Отлично, теперь у нас есть рабочее окружение и мы можем переходить к запуску автотестов. Для этого открываем файл AvatarSelectScreenTest.kt
```
app/src/
├── main/          ← Код приложения
├── test/          ← Unit-тесты (JVM)
└── androidTest/   ← Инструментальные тесты (на эмуляторе/устройстве)
    └── java/com/example/kaspresso_learning/
        └── AvatarSelectScreenTest.kt   ← Наш первый тест
```


Скрин

Нажать зелёный ▶ рядом с именем класса или функцией

Выбрать «Run on ...» → выбрать эмулятор


Скрин

После запуска теста у нас должно появиться окошко с результатами тестов:

Скрин

Само выполнение теста проходит очень быстро, потому что тест состоит всего из пары шагов - проверки отображения элементов на стартовом экране. 

## Задание

1. Откройте проект `learn-kaspresso` в Android Studio
2. Запустите эмулятор или подключите физическое устройство
3. Запустите существующий тест `AvatarSelectScreenTest` — он должен пройти ✅
4. Посмотрите вывод тестов в панели «Run»

Если тест прошёл — среда настроена, можно переходить к Уроку 1.